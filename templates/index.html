{% extends 'layout.html' %}
{% block content %}

<h1>Overtime Tool Wro4</h1>

<ul class="nav nav-tabs mb-3" role="tablist">
  <li class="nav-item">
    <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#week" type="button" role="tab">
      Wybór tygodnia
    </button>
  </li>
  <li class="nav-item">
    <button class="nav-link" data-bs-toggle="tab" data-bs-target="#summary" type="button" role="tab">
      Podsumowanie
    </button>
  </li>
</ul>

<div class="tab-content mt-3">
  <div class="tab-pane fade show active" id="week" role="tabpanel">
    <div class="align-tables">

      <!-- Lista tygodni -->
      <div style="flex: 0 0 16%; max-width:16%;">
        <h5 class="center-header">Tygodnie</h5>
        <div id="weeksList" class="list-group"></div>
      </div>

      <!-- Tabela tygodnia + Day/Night -->
      <div style="flex: 1;">
        <div id="weekTableContainer"></div>

        <!-- LOGIN + SHIFTY -->
        <div id="loginContainer" style="display:none; margin-top:20px;">

          <!-- INPUT LOGIN – NAD TABELAMI -->
          <label for="loginInput" class="form-label">Login</label>
          <div class="input-group mb-3">
            <input id="loginInput" class="form-control" placeholder="np. jan.kowalski">
            <button id="addBtn" class="btn btn-primary">Dodaj</button>
          </div>
          <div id="loginFeedback" class="text-danger small" style="display:none;"></div>

          <!-- TABELE DAY / NIGHT -->
          <div id="shiftsContainer" style="display:flex; gap:20px; justify-content:center;">

            <!-- DAY SHIFT -->
            <div id="dayShiftContainer" style="flex:1; display:flex; flex-direction:column;">
              <div id="dayShiftHeader" class="shift-header clickable-shift">
                Day Shift
              </div>
              <table class="table table-striped shift-table" id="dayShiftTable">
                <thead>
                  <tr>
                    <th>Login</th>
                    <th>Name</th>
                    <th>Shift Pattern</th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>

            <!-- NIGHT SHIFT -->
            <div id="nightShiftContainer" style="flex:1; display:flex; flex-direction:column;">
              <div id="nightShiftHeader" class="shift-header clickable-shift">
                Night Shift
              </div>
              <table class="table table-striped shift-table" id="nightShiftTable">
                <thead>
                  <tr>
                    <th>Login</th>
                    <th>Name</th>
                    <th>Shift Pattern</th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>

          </div>
        </div>

      </div>
    </div>
  </div>

  <!-- ===================== -->
  <!-- PODSUMOWANIE -->
  <!-- ===================== -->
  <div id="summary" class="tab-pane fade" role="tabpanel">
    <h5 id="summaryWeekLabel">Podsumowanie</h5>

    <!-- Kafelki kwartałów -->
    <div id="summaryQuarterList" class="mb-2"></div>

    <!-- Kafelki miesięcy (Twoje obecne) -->
    <div id="summaryMonthList" class="mb-3"></div>

    <!-- Jeden kontener: duża tabela lub 6 małych -->
    <div id="summaryTablesWrapper">
      <!-- Duża tabela miesiąca -->
      <div id="summaryTableContainer"></div>

      <!-- 6 małych tabel kwartału -->
      <div id="quarterTablesContainer" style="display:none;"></div>
    </div>
  </div>

</div>

<div id="copyright">
  Copyright @pborowie dla wro4
</div>

{% endblock %}
